<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Store</title>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>

    
    <link href="/opt/local/apache2/htdocs/budkit/vendor/budkit/framework/docs/assets/kube.css" type="text/css" rel="stylesheet"/>
    <link href="/opt/local/apache2/htdocs/budkit/vendor/budkit/framework/docs/assets/highlight/styles/railscasts.css" rel="stylesheet">
    <link href="/opt/local/apache2/htdocs/budkit/vendor/budkit/framework/docs/assets/styles.css" type="text/css" rel="stylesheet"/>
        <script src="/opt/local/apache2/htdocs/budkit/vendor/budkit/framework/docs/assets/highlight/highlight.pack.js"></script>

    

    <script>hljs.initHighlightingOnLoad();</script>
</head>
<body>
<div class="sidebar column">
    <ol class='tree'><li><label for="Budkit">Budkit</label><input type="checkbox"checked="checked"id="Budkit"><ol class='tree'><li><label for="Application">Application</label><input type="checkbox"id="Application"><ol class='tree'><li class="file"><a href="/opt/local/apache2/htdocs/budkit/vendor/budkit/framework/docs/Budkit/Application/Instance.php.html">Instance.php</a></li><li class="file"><a href="/opt/local/apache2/htdocs/budkit/vendor/budkit/framework/docs/Budkit/Application/Provider.php.html">Provider.php</a></li><li><label for="Support">Support</label><input type="checkbox"id="Support"><ol class='tree'><li class="file"><a href="/opt/local/apache2/htdocs/budkit/vendor/budkit/framework/docs/Budkit/Application/Support/Application.php.html">Application.php</a></li><li class="file"><a href="/opt/local/apache2/htdocs/budkit/vendor/budkit/framework/docs/Budkit/Application/Support/Mock.php.html">Mock.php</a></li><li class="file"><a href="/opt/local/apache2/htdocs/budkit/vendor/budkit/framework/docs/Budkit/Application/Support/Mockable.php.html">Mockable.php</a></li><li class="file"><a href="/opt/local/apache2/htdocs/budkit/vendor/budkit/framework/docs/Budkit/Application/Support/Mockery.php.html">Mockery.php</a></li><li class="file"><a href="/opt/local/apache2/htdocs/budkit/vendor/budkit/framework/docs/Budkit/Application/Support/Providers.php.html">Providers.php</a></li><li class="file"><a href="/opt/local/apache2/htdocs/budkit/vendor/budkit/framework/docs/Budkit/Application/Support/Service.php.html">Service.php</a></li></ol></li><li><label for="Utilities">Utilities</label><input type="checkbox"id="Utilities"><ol class='tree'><li class="file"><a href="/opt/local/apache2/htdocs/budkit/vendor/budkit/framework/docs/Budkit/Application/Utilities/bootstrap.php.html">bootstrap.php</a></li><li class="file"><a href="/opt/local/apache2/htdocs/budkit/vendor/budkit/framework/docs/Budkit/Application/Utilities/constants.php.html">constants.php</a></li><li class="file"><a href="/opt/local/apache2/htdocs/budkit/vendor/budkit/framework/docs/Budkit/Application/Utilities/functions.php.html">functions.php</a></li></ol></li></ol></li><li><label for="Authentication">Authentication</label><input type="checkbox"id="Authentication"><ol class='tree'><li class="file"><a href="/opt/local/apache2/htdocs/budkit/vendor/budkit/framework/docs/Budkit/Authentication/Authenticate.php.html">Authenticate.php</a></li><li class="file"><a href="/opt/local/apache2/htdocs/budkit/vendor/budkit/framework/docs/Budkit/Authentication/Handler.php.html">Handler.php</a></li><li><label for="Type">Type</label><input type="checkbox"id="Type"><ol class='tree'><li class="file"><a href="/opt/local/apache2/htdocs/budkit/vendor/budkit/framework/docs/Budkit/Authentication/Type/dbauth.php.html">dbauth.php</a></li><li class="file"><a href="/opt/local/apache2/htdocs/budkit/vendor/budkit/framework/docs/Budkit/Authentication/Type/ldap.php.html">ldap.php</a></li><li class="file"><a href="/opt/local/apache2/htdocs/budkit/vendor/budkit/framework/docs/Budkit/Authentication/Type/openID.php.html">openID.php</a></li></ol></li><li class="file"><a href="/opt/local/apache2/htdocs/budkit/vendor/budkit/framework/docs/Budkit/Authentication/User.php.html">User.php</a></li></ol></li><li><label for="Datastore">Datastore</label><input type="checkbox"id="Datastore"><ol class='tree'><li class="file"><a href="/opt/local/apache2/htdocs/budkit/vendor/budkit/framework/docs/Budkit/Datastore/Activerecord.php.html">Activerecord.php</a></li><li class="file"><a href="/opt/local/apache2/htdocs/budkit/vendor/budkit/framework/docs/Budkit/Datastore/Database.php.html">Database.php</a></li><li class="file"><a href="/opt/local/apache2/htdocs/budkit/vendor/budkit/framework/docs/Budkit/Datastore/Driver.php.html">Driver.php</a></li><li><label for="Drivers">Drivers</label><input type="checkbox"id="Drivers"><ol class='tree'><li><label for="MySQLi">MySQLi</label><input type="checkbox"id="MySQLi"><ol class='tree'><li class="file"><a href="/opt/local/apache2/htdocs/budkit/vendor/budkit/framework/docs/Budkit/Datastore/Drivers/MySQLi/Accessory.php.html">Accessory.php</a></li><li class="file"><a href="/opt/local/apache2/htdocs/budkit/vendor/budkit/framework/docs/Budkit/Datastore/Drivers/MySQLi/Driver.php.html">Driver.php</a></li><li class="file"><a href="/opt/local/apache2/htdocs/budkit/vendor/budkit/framework/docs/Budkit/Datastore/Drivers/MySQLi/Statement.php.html">Statement.php</a></li><li class="file"><a href="/opt/local/apache2/htdocs/budkit/vendor/budkit/framework/docs/Budkit/Datastore/Drivers/MySQLi/Table.php.html">Table.php</a></li></ol></li></ol></li><li class="file"><a href="/opt/local/apache2/htdocs/budkit/vendor/budkit/framework/docs/Budkit/Datastore/Encrypt.php.html">Encrypt.php</a></li><li class="file"><a href="/opt/local/apache2/htdocs/budkit/vendor/budkit/framework/docs/Budkit/Datastore/Engine.php.html">Engine.php</a></li><li><label for="Exception">Exception</label><input type="checkbox"id="Exception"><ol class='tree'><li class="file"><a href="/opt/local/apache2/htdocs/budkit/vendor/budkit/framework/docs/Budkit/Datastore/Exception/ConnectionError.php.html">ConnectionError.php</a></li><li class="file"><a href="/opt/local/apache2/htdocs/budkit/vendor/budkit/framework/docs/Budkit/Datastore/Exception/InternalError.php.html">InternalError.php</a></li><li class="file"><a href="/opt/local/apache2/htdocs/budkit/vendor/budkit/framework/docs/Budkit/Datastore/Exception/QuerryException.php.html">QuerryException.php</a></li></ol></li><li><label for="Model">Model</label><input type="checkbox"id="Model"><ol class='tree'><li class="file"><a href="/opt/local/apache2/htdocs/budkit/vendor/budkit/framework/docs/Budkit/Datastore/Model/DataModel.php.html">DataModel.php</a></li><li class="file"><a href="/opt/local/apache2/htdocs/budkit/vendor/budkit/framework/docs/Budkit/Datastore/Model/Entity.php.html">Entity.php</a></li><li><label for="Graph">Graph</label><input type="checkbox"id="Graph"><ol class='tree'><li class="file"><a href="/opt/local/apache2/htdocs/budkit/vendor/budkit/framework/docs/Budkit/Datastore/Model/Graph/Edge.php.html">Edge.php</a></li><li class="file"><a href="/opt/local/apache2/htdocs/budkit/vendor/budkit/framework/docs/Budkit/Datastore/Model/Graph/Node.php.html">Node.php</a></li></ol></li><li class="file"><a href="/opt/local/apache2/htdocs/budkit/vendor/budkit/framework/docs/Budkit/Datastore/Model/Graph.php.html">Graph.php</a></li></ol></li><li class="file"><a href="/opt/local/apache2/htdocs/budkit/vendor/budkit/framework/docs/Budkit/Datastore/Pagination.php.html">Pagination.php</a></li><li class="file"><a href="/opt/local/apache2/htdocs/budkit/vendor/budkit/framework/docs/Budkit/Datastore/Results.php.html">Results.php</a></li><li class="file"><a href="/opt/local/apache2/htdocs/budkit/vendor/budkit/framework/docs/Budkit/Datastore/Statement.php.html">Statement.php</a></li><li class="file"><a href="/opt/local/apache2/htdocs/budkit/vendor/budkit/framework/docs/Budkit/Datastore/Table.php.html">Table.php</a></li></ol></li><li><label for="Debug">Debug</label><input type="checkbox"id="Debug"><ol class='tree'><li class="file"><a href="/opt/local/apache2/htdocs/budkit/vendor/budkit/framework/docs/Budkit/Debug/Log.php.html">Log.php</a></li><li><label for="Repository">Repository</label><input type="checkbox"id="Repository"><ol class='tree'><li class="file"><a href="/opt/local/apache2/htdocs/budkit/vendor/budkit/framework/docs/Budkit/Debug/Repository/debugger.php.html">debugger.php</a></li><li class="file"><a href="/opt/local/apache2/htdocs/budkit/vendor/budkit/framework/docs/Budkit/Debug/Repository/log.php.html">log.php</a></li></ol></li></ol></li><li><label for="Dependency">Dependency</label><input type="checkbox"id="Dependency"><ol class='tree'><li class="file"><a href="/opt/local/apache2/htdocs/budkit/vendor/budkit/framework/docs/Budkit/Dependency/Container.php.html">Container.php</a></li></ol></li><li><label for="Event">Event</label><input type="checkbox"id="Event"><ol class='tree'><li class="file"><a href="/opt/local/apache2/htdocs/budkit/vendor/budkit/framework/docs/Budkit/Event/Event.php.html">Event.php</a></li><li class="file"><a href="/opt/local/apache2/htdocs/budkit/vendor/budkit/framework/docs/Budkit/Event/Listener.php.html">Listener.php</a></li><li class="file"><a href="/opt/local/apache2/htdocs/budkit/vendor/budkit/framework/docs/Budkit/Event/Observer.php.html">Observer.php</a></li></ol></li><li><label for="Filesystem">Filesystem</label><input type="checkbox"id="Filesystem"><ol class='tree'><li class="file"><a href="/opt/local/apache2/htdocs/budkit/vendor/budkit/framework/docs/Budkit/Filesystem/Directory.php.html">Directory.php</a></li><li class="file"><a href="/opt/local/apache2/htdocs/budkit/vendor/budkit/framework/docs/Budkit/Filesystem/File.php.html">File.php</a></li><li class="file"><a href="/opt/local/apache2/htdocs/budkit/vendor/budkit/framework/docs/Budkit/Filesystem/Packer.php.html">Packer.php</a></li></ol></li><li><label for="Helper">Helper</label><input type="checkbox"id="Helper"><ol class='tree'><li class="file"><a href="/opt/local/apache2/htdocs/budkit/vendor/budkit/framework/docs/Budkit/Helper/Date.php.html">Date.php</a></li><li class="file"><a href="/opt/local/apache2/htdocs/budkit/vendor/budkit/framework/docs/Budkit/Helper/Object.php.html">Object.php</a></li><li class="file"><a href="/opt/local/apache2/htdocs/budkit/vendor/budkit/framework/docs/Budkit/Helper/Time.php.html">Time.php</a></li></ol></li><li><label for="Parameter">Parameter</label><input type="checkbox"id="Parameter"><ol class='tree'><li class="file"><a href="/opt/local/apache2/htdocs/budkit/vendor/budkit/framework/docs/Budkit/Parameter/Factory.php.html">Factory.php</a></li><li class="file"><a href="/opt/local/apache2/htdocs/budkit/vendor/budkit/framework/docs/Budkit/Parameter/Loader.php.html">Loader.php</a></li><li class="file"><a href="/opt/local/apache2/htdocs/budkit/vendor/budkit/framework/docs/Budkit/Parameter/Manager.php.html">Manager.php</a></li><li><label for="Repository">Repository</label><input type="checkbox"id="Repository"><ol class='tree'><li class="file"><a href="/opt/local/apache2/htdocs/budkit/vendor/budkit/framework/docs/Budkit/Parameter/Repository/Database.php.html">Database.php</a></li><li class="file"><a href="/opt/local/apache2/htdocs/budkit/vendor/budkit/framework/docs/Budkit/Parameter/Repository/File.php.html">File.php</a></li><li class="file"><a href="/opt/local/apache2/htdocs/budkit/vendor/budkit/framework/docs/Budkit/Parameter/Repository/Handler.php.html">Handler.php</a></li><li><label for="Parser">Parser</label><input type="checkbox"id="Parser"><ol class='tree'><li class="file"><a href="/opt/local/apache2/htdocs/budkit/vendor/budkit/framework/docs/Budkit/Parameter/Repository/Parser/database.php.html">database.php</a></li><li class="file"><a href="/opt/local/apache2/htdocs/budkit/vendor/budkit/framework/docs/Budkit/Parameter/Repository/Parser/ini.php.html">ini.php</a></li><li class="file"><a href="/opt/local/apache2/htdocs/budkit/vendor/budkit/framework/docs/Budkit/Parameter/Repository/Parser/xml.php.html">xml.php</a></li></ol></li></ol></li><li class="file"><a href="/opt/local/apache2/htdocs/budkit/vendor/budkit/framework/docs/Budkit/Parameter/Utility.php.html">Utility.php</a></li></ol></li><li><label for="Protocol">Protocol</label><input type="checkbox"id="Protocol"><ol class='tree'><li class="file"><a href="/opt/local/apache2/htdocs/budkit/vendor/budkit/framework/docs/Budkit/Protocol/Content.php.html">Content.php</a></li><li><label for="Http">Http</label><input type="checkbox"id="Http"><ol class='tree'><li class="file"><a href="/opt/local/apache2/htdocs/budkit/vendor/budkit/framework/docs/Budkit/Protocol/Http/Codes.php.html">Codes.php</a></li><li class="file"><a href="/opt/local/apache2/htdocs/budkit/vendor/budkit/framework/docs/Budkit/Protocol/Http/Headers.php.html">Headers.php</a></li><li class="file"><a href="/opt/local/apache2/htdocs/budkit/vendor/budkit/framework/docs/Budkit/Protocol/Http/Request.php.html">Request.php</a></li><li class="file"><a href="/opt/local/apache2/htdocs/budkit/vendor/budkit/framework/docs/Budkit/Protocol/Http/Response.php.html">Response.php</a></li><li class="file"><a href="/opt/local/apache2/htdocs/budkit/vendor/budkit/framework/docs/Budkit/Protocol/Http/Server.php.html">Server.php</a></li></ol></li><li class="file"><a href="/opt/local/apache2/htdocs/budkit/vendor/budkit/framework/docs/Budkit/Protocol/Input.php.html">Input.php</a></li><li class="file"><a href="/opt/local/apache2/htdocs/budkit/vendor/budkit/framework/docs/Budkit/Protocol/Request.php.html">Request.php</a></li><li class="file"><a href="/opt/local/apache2/htdocs/budkit/vendor/budkit/framework/docs/Budkit/Protocol/Response.php.html">Response.php</a></li><li class="file"><a href="/opt/local/apache2/htdocs/budkit/vendor/budkit/framework/docs/Budkit/Protocol/Server.php.html">Server.php</a></li><li class="file"><a href="/opt/local/apache2/htdocs/budkit/vendor/budkit/framework/docs/Budkit/Protocol/Uri.php.html">Uri.php</a></li></ol></li><li><label for="Routing">Routing</label><input type="checkbox"id="Routing"><ol class='tree'><li class="file"><a href="/opt/local/apache2/htdocs/budkit/vendor/budkit/framework/docs/Budkit/Routing/Collection.php.html">Collection.php</a></li><li class="file"><a href="/opt/local/apache2/htdocs/budkit/vendor/budkit/framework/docs/Budkit/Routing/Controller.php.html">Controller.php</a></li><li class="file"><a href="/opt/local/apache2/htdocs/budkit/vendor/budkit/framework/docs/Budkit/Routing/Definition.php.html">Definition.php</a></li><li class="file"><a href="/opt/local/apache2/htdocs/budkit/vendor/budkit/framework/docs/Budkit/Routing/Dispatcher.php.html">Dispatcher.php</a></li><li class="file"><a href="/opt/local/apache2/htdocs/budkit/vendor/budkit/framework/docs/Budkit/Routing/Factory.php.html">Factory.php</a></li><li class="file"><a href="/opt/local/apache2/htdocs/budkit/vendor/budkit/framework/docs/Budkit/Routing/Regex.php.html">Regex.php</a></li><li class="file"><a href="/opt/local/apache2/htdocs/budkit/vendor/budkit/framework/docs/Budkit/Routing/Route.php.html">Route.php</a></li><li class="file"><a href="/opt/local/apache2/htdocs/budkit/vendor/budkit/framework/docs/Budkit/Routing/Router.php.html">Router.php</a></li></ol></li><li><label for="Session">Session</label><input type="checkbox"checked="checked"id="Session"><ol class='tree'><li class="file"><a href="/opt/local/apache2/htdocs/budkit/vendor/budkit/framework/docs/Budkit/Session/Handler.php.html">Handler.php</a></li><li class="file"><a href="/opt/local/apache2/htdocs/budkit/vendor/budkit/framework/docs/Budkit/Session/Registry.php.html">Registry.php</a></li><li><label for="repository">repository</label><input type="checkbox"id="repository"><ol class='tree'><li class="file"><a href="/opt/local/apache2/htdocs/budkit/vendor/budkit/framework/docs/Budkit/Session/repository/database.php.html">database.php</a></li><li class="file"><a href="/opt/local/apache2/htdocs/budkit/vendor/budkit/framework/docs/Budkit/Session/repository/file.php.html">file.php</a></li></ol></li><li class="file"><a href="/opt/local/apache2/htdocs/budkit/vendor/budkit/framework/docs/Budkit/Session/Store.php.html">Store.php</a></li></ol></li><li><label for="Utility">Utility</label><input type="checkbox"id="Utility"><ol class='tree'><li class="file"><a href="/opt/local/apache2/htdocs/budkit/vendor/budkit/framework/docs/Budkit/Utility/Loader.php.html">Loader.php</a></li></ol></li><li><label for="Validation">Validation</label><input type="checkbox"id="Validation"><ol class='tree'><li class="file"><a href="/opt/local/apache2/htdocs/budkit/vendor/budkit/framework/docs/Budkit/Validation/Sanitize.php.html">Sanitize.php</a></li><li class="file"><a href="/opt/local/apache2/htdocs/budkit/vendor/budkit/framework/docs/Budkit/Validation/Validate.php.html">Validate.php</a></li></ol></li><li><label for="View">View</label><input type="checkbox"id="View"><ol class='tree'><li class="file"><a href="/opt/local/apache2/htdocs/budkit/vendor/budkit/framework/docs/Budkit/View/Display.php.html">Display.php</a></li><li><label for="Engine">Engine</label><input type="checkbox"id="Engine"><ol class='tree'><li class="file"><a href="/opt/local/apache2/htdocs/budkit/vendor/budkit/framework/docs/Budkit/View/Engine/Html.php.html">Html.php</a></li><li class="file"><a href="/opt/local/apache2/htdocs/budkit/vendor/budkit/framework/docs/Budkit/View/Engine/Json.php.html">Json.php</a></li></ol></li><li class="file"><a href="/opt/local/apache2/htdocs/budkit/vendor/budkit/framework/docs/Budkit/View/Engine.php.html">Engine.php</a></li><li class="file"><a href="/opt/local/apache2/htdocs/budkit/vendor/budkit/framework/docs/Budkit/View/Format.php.html">Format.php</a></li><li><label for="Layout">Layout</label><input type="checkbox"id="Layout"><ol class='tree'><li class="file"><a href="/opt/local/apache2/htdocs/budkit/vendor/budkit/framework/docs/Budkit/View/Layout/Compiler.php.html">Compiler.php</a></li><li class="file"><a href="/opt/local/apache2/htdocs/budkit/vendor/budkit/framework/docs/Budkit/View/Layout/Loader.php.html">Loader.php</a></li><li class="file"><a href="/opt/local/apache2/htdocs/budkit/vendor/budkit/framework/docs/Budkit/View/Layout/Parser.php.html">Parser.php</a></li><li><label for="Tpl">Tpl</label><input type="checkbox"id="Tpl"><ol class='tree'><li class="file"><a href="/opt/local/apache2/htdocs/budkit/vendor/budkit/framework/docs/Budkit/View/Layout/Tpl/Attributes.php.html">Attributes.php</a></li><li class="file"><a href="/opt/local/apache2/htdocs/budkit/vendor/budkit/framework/docs/Budkit/View/Layout/Tpl/Block.php.html">Block.php</a></li><li class="file"><a href="/opt/local/apache2/htdocs/budkit/vendor/budkit/framework/docs/Budkit/View/Layout/Tpl/Condition.php.html">Condition.php</a></li><li class="file"><a href="/opt/local/apache2/htdocs/budkit/vendor/budkit/framework/docs/Budkit/View/Layout/Tpl/Data.php.html">Data.php</a></li><li class="file"><a href="/opt/local/apache2/htdocs/budkit/vendor/budkit/framework/docs/Budkit/View/Layout/Tpl/Datetime.php.html">Datetime.php</a></li><li class="file"><a href="/opt/local/apache2/htdocs/budkit/vendor/budkit/framework/docs/Budkit/View/Layout/Tpl/Href.php.html">Href.php</a></li><li class="file"><a href="/opt/local/apache2/htdocs/budkit/vendor/budkit/framework/docs/Budkit/View/Layout/Tpl/Import.php.html">Import.php</a></li><li class="file"><a href="/opt/local/apache2/htdocs/budkit/vendor/budkit/framework/docs/Budkit/View/Layout/Tpl/Input.php.html">Input.php</a></li><li class="file"><a href="/opt/local/apache2/htdocs/budkit/vendor/budkit/framework/docs/Budkit/View/Layout/Tpl/Layout.php.html">Layout.php</a></li><li class="file"><a href="/opt/local/apache2/htdocs/budkit/vendor/budkit/framework/docs/Budkit/View/Layout/Tpl/Link.php.html">Link.php</a></li><li class="file"><a href="/opt/local/apache2/htdocs/budkit/vendor/budkit/framework/docs/Budkit/View/Layout/Tpl/Loop.php.html">Loop.php</a></li><li class="file"><a href="/opt/local/apache2/htdocs/budkit/vendor/budkit/framework/docs/Budkit/View/Layout/Tpl/Menu.php.html">Menu.php</a></li><li class="file"><a href="/opt/local/apache2/htdocs/budkit/vendor/budkit/framework/docs/Budkit/View/Layout/Tpl/Select.php.html">Select.php</a></li></ol></li></ol></li></ol></li></ol></li></ol></div>
<div class="content">
    <div class="background">
        <div class="codeblock"></div>
    </div>
        
        
                                    
                            <div class="literal column">
                    <div class="codedoc">
                                                                            <div class="doc">

                                                                    <div class="req">Budkit\Session</div>
                                
                                
                                


                                

                                                            </div>
                                            </div>
                    <div class="codeblock">
                                            </div>
                </div>
                

            
        
                                    
                            <div class="literal column">
                    <div class="codedoc">
                                                                            <div class="doc">

                                
                                                                    <h1 id="<br />
<b>Notice</b>:  Undefined index: id in <b>/opt/local/apache2/htdocs/budkit/vendor/budkit/docs/src/Layout.php</b> on line <b>58</b><br />
">

                                        
                                                                                                                                    <span
                                                    class="label label-primary" >class</span>
                                                                                    
                                        Store

                                    </h1>
                                    <p>
                                        

                                        
                                                                            </p>


                                
                                                                                                                                                        <p><p>What is the purpose of this class, in one sentence?</p></p>
                                                                                                                                                                <p><p>How does this class achieve the desired purpose?</p></p>
                                                                                                                                                                <dl>
                                                <dt>Category</dt>
                                                                                                    <dd><p>Library</p></dd>
                                                
                                            </dl>
                                                                                                                                                                <dl>
                                                <dt>Author</dt>
                                                                                                    <dd><p>Livingstone Fultang <a href="mailto:livingstone.fultang@stonyhillshq.com">livingstone.fultang@stonyhillshq.com</a></p></dd>
                                                
                                            </dl>
                                                                                                                                                                <dl>
                                                <dt>Copyright</dt>
                                                                                                    <dd><p>1997-2012 Stonyhills HQ</p></dd>
                                                
                                            </dl>
                                                                                                                                                                <dl>
                                                <dt>License</dt>
                                                                                                    <dd><p><a href="http://www.gnu.org/licenses/gpl.txt">http://www.gnu.org/licenses/gpl.txt</a>.  GNU GPL License 3.01</p></dd>
                                                
                                            </dl>
                                                                                                                                                                <dl>
                                                <dt>Version</dt>
                                                                                                    <dd><p>Release: 1.0.0</p></dd>
                                                
                                            </dl>
                                                                                                                                                                <dl>
                                                <dt>Link</dt>
                                                                                                    <dd><p><a href="http://stonyhillshq/documents/index/carbon4/libraries/session">http://stonyhillshq/documents/index/carbon4/libraries/session</a></p></dd>
                                                
                                            </dl>
                                                                                                                                                                <dl>
                                                <dt>Since</dt>
                                                                                                    <dd><p>Class available since Release 1.0.0 Jan 14, 2012 4:54:37 PM</p></dd>
                                                
                                            </dl>
                                                                            
                                


                                
                                    <dl>
                                        <dt>Methods</dt>
                                        <dd>
                                                                                        <row>
                                                                                                                                            </row>
                                            <row>
                                                                                                <column cols="6"><a
                                                        href="#method:close">close() </a>
                                                </column>
                                                                                                                                                                                                <column cols="6"><a
                                                        href="#method:getUploadProgressName">getUploadProgressName() </a>
                                                </column>
                                                                                                                                                                                            </row>
                                            <row>
                                                                                                <column cols="6"><a
                                                        href="#method:getUploadProgress">getUploadProgress() </a>
                                                </column>
                                                                                                                                                                                                <column cols="6"><a
                                                        href="#method:start">start() </a>
                                                </column>
                                                                                                                                                                                            </row>
                                            <row>
                                                                                                <column cols="6"><a
                                                        href="#method:getSplash">getSplash() </a>
                                                </column>
                                                                                                                                                                                                <column cols="6"><a
                                                        href="#method:create">create() </a>
                                                </column>
                                                                                                                                                                                            </row>
                                            <row>
                                                                                                <column cols="6"><a
                                                        href="#method:getAuthority">getAuthority() </a>
                                                </column>
                                                                                                                                                                                                <column cols="6"><a
                                                        href="#method:isAuthenticated">isAuthenticated() </a>
                                                </column>
                                                                                                                                                                                            </row>
                                            <row>
                                                                                                <column cols="6"><a
                                                        href="#method:generateToken">generateToken() </a>
                                                </column>
                                                                                                                                                                                                <column cols="6"><a
                                                        href="#method:getCSRFToken">getCSRFToken() </a>
                                                </column>
                                                                                                                                                                                            </row>
                                            <row>
                                                                                                <column cols="6"><a
                                                        href="#method:validateCSRFToken">validateCSRFToken() </a>
                                                </column>
                                                                                                                                                                                                <column cols="6"><a
                                                        href="#method:getNamespace">getNamespace() </a>
                                                </column>
                                                                                                                                                                                            </row>
                                            <row>
                                                                                                <column cols="6"><a
                                                        href="#method:generateId">generateId() </a>
                                                </column>
                                                                                                                                                                                                <column cols="6"><a
                                                        href="#method:read">read() </a>
                                                </column>
                                                                                                                                                                                            </row>
                                            <row>
                                                                                                <column cols="6"><a
                                                        href="#method:update">update() </a>
                                                </column>
                                                                                                                                                                                                <column cols="6"><a
                                                        href="#method:restart">restart() </a>
                                                </column>
                                                                                                                                                                                            </row>
                                            <row>
                                                                                                <column cols="6"><a
                                                        href="#method:destroy">destroy() </a>
                                                </column>
                                                                                                                                                                                                <column cols="6"><a
                                                        href="#method:write">write() </a>
                                                </column>
                                                                                                                                                                                            </row>
                                            <row>
                                                                                                <column cols="6"><a
                                                        href="#method:setOptions">setOptions() </a>
                                                </column>
                                                                                                                                                                                                <column cols="6"><a
                                                        href="#method:maxTimeToExpire">maxTimeToExpire() </a>
                                                </column>
                                                                                                                                                                                            </row>
                                            <row>
                                                                                                <column cols="6"><a
                                                        href="#method:maxRequestToExpire">maxRequestToExpire() </a>
                                                </column>
                                                                                                                                                                                                <column cols="6"><a
                                                        href="#method:getRequestCount">getRequestCount() </a>
                                                </column>
                                                                                                                                                                                            </row>
                                            <row>
                                                                                                <column cols="6"><a
                                                        href="#method:lock">lock() </a>
                                                </column>
                                                                                                                                                                                                <column cols="6"><a
                                                        href="#method:isLocked">isLocked() </a>
                                                </column>
                                                                                                                                                                                            </row>
                                            <row>
                                                                                                <column cols="6"><a
                                                        href="#method:unlock">unlock() </a>
                                                </column>
                                                                                                                                                                                                <column cols="6"><a
                                                        href="#method:getId">getId() </a>
                                                </column>
                                                                                                                                                                                            </row>
                                            <row>
                                                                                                <column cols="6"><a
                                                        href="#method:get">get() </a>
                                                </column>
                                                                                                                                                                                                <column cols="6"><a
                                                        href="#method:set">set() </a>
                                                </column>
                                                                                                                                                                                            </row>
                                            <row>
                                                                                                <column cols="6"><a
                                                        href="#method:remove">remove() </a>
                                                </column>
                                                                                                                                                                                                <column cols="6"><a
                                                        href="#method:__destruct">__destruct() </a>
                                                </column>
                                                                                                                                            </row>
                                        </dd>

                                    </dl>

                                

                                                            </div>
                                            </div>
                    <div class="codeblock">
                                            </div>
                </div>
                

        
                                    
                            <div class="literal column">
                    <div class="codedoc">
                                                                            <div class="doc">

                                
                                
                                


                                
                                    <dl>
                                        <dt>Properties</dt>
                                        <dd>
                                                                                        <row>
                                                                                                                                            </row>
                                            <row>
                                                                                                <column cols="6"><a
                                                        href="#property:repositories">repositories </a>
                                                </column>
                                                                                                                                            </row>
                                        </dd>

                                    </dl>

                                

                                                            </div>
                                            </div>
                    <div class="codeblock">
                                            </div>
                </div>
                

            
        
                                    
                            <div class="literal column">
                    <div class="codedoc">
                                                    <a class="to-top" href="">Back To Top</a>
                                                                            <div class="doc">

                                
                                                                    <h1 id="property:repositories">

                                                                                    <span
                                                class="label label-primary">property</span>
                                        
                                                                                                                                    <span
                                                    class="label label-default" >static</span>
                                                                                            <span
                                                    class="label label-success" >public</span>
                                                                                    
                                        repositories

                                    </h1>
                                    <p>
                                        

                                        
                                                                            </p>


                                
                                


                                

                                                            </div>
                                            </div>
                    <div class="codeblock">
                                                    <pre>
                                    <code
                                        class="php">static $repositories = array(
        &quot;database&quot; =&gt; Repository\Database::class,
        &quot;file&quot; =&gt; Repository\File::class
    );</code>
                                </pre>
                                            </div>
                </div>
                

            
        
                                    
                            <div class="literal column">
                    <div class="codedoc">
                                                    <a class="to-top" href="">Back To Top</a>
                                                                            <div class="doc">

                                
                                                                    <h1 id="method:__construct">

                                                                                    <span
                                                class="label label-primary">method</span>
                                        
                                                                                                                                    <span
                                                    class="label label-success" >public</span>
                                                                                    
                                        __construct

                                    </h1>
                                    <p>
                                        

                                        
                                                                            </p>


                                
                                                                                                                                                        <p><p>Constructs the session Object</p></p>
                                                                                                                                                                <dl>
                                                <dt>Param</dt>
                                                                                                    <dd><p>type $namespace</p></dd>
                                                
                                            </dl>
                                                                            
                                


                                

                                                            </div>
                                            </div>
                    <div class="codeblock">
                                                    <pre>
                                    <code
                                        class="php">
    public function __construct($options = [], Container $container)
    {

        //Need to destroy any existing sessions started with session.auto_start
        if (session_id()) {
            @session_unset();
            @session_destroy();
        }

        //$config = Config::getParamSection(&quot;session&quot;);

        //Config Vars
        foreach ($options as $var =&gt; $value) {
            $this-&gt;$var = $value;
        }


        $this-&gt;input = $container-&gt;input;
        $this-&gt;uri = $container-&gt;createInstance(Uri::class, [$container-&gt;request]);
        $this-&gt;authenticator = $container-&gt;createInstance(Authenticate::class);
        $this-&gt;encryptor = $container-&gt;createInstance(Encrypt::class);


        $this-&gt;registry[&#039;default&#039;] = new Registry(&quot;default&quot;);

        if (!isset($options[&quot;store&quot;]) || !array_key_exists($options[&quot;store&quot;], static::$repositories)) {
            throw new \Exception(&quot;Invalid session handler&quot;);
            return false;
        }

        $this-&gt;handler = $container-&gt;createInstance(static::$repositories[$options[&quot;store&quot;]]);

        ini_set(&#039;session.use_trans_sid&#039;, &#039;0&#039;);
        //Libraries
    }</code>
                                </pre>
                                            </div>
                </div>
                

            
        
                                    
                            <div class="literal column">
                    <div class="codedoc">
                                                    <a class="to-top" href="">Back To Top</a>
                                                                            <div class="doc">

                                
                                                                    <h1 id="method:close">

                                                                                    <span
                                                class="label label-primary">method</span>
                                        
                                                                                                                                    <span
                                                    class="label label-success" >public</span>
                                                                                    
                                        close

                                    </h1>
                                    <p>
                                        

                                        
                                                                            </p>


                                
                                                                                                                                                        <p><p>Writes session data and ends the session</p></p>
                                                                                                                                                                <dl>
                                                <dt>Return</dt>
                                                                                                    <dd><p>void</p></dd>
                                                
                                            </dl>
                                                                            
                                


                                

                                                            </div>
                                            </div>
                    <div class="codeblock">
                                                    <pre>
                                    <code
                                        class="php">
    public function close()
    {
        session_write_close();
    }</code>
                                </pre>
                                            </div>
                </div>
                

            
        
                                    
                            <div class="literal column">
                    <div class="codedoc">
                                                    <a class="to-top" href="">Back To Top</a>
                                                                            <div class="doc">

                                
                                                                    <h1 id="method:getUploadProgressName">

                                                                                    <span
                                                class="label label-primary">method</span>
                                        
                                                                                                                                    <span
                                                    class="label label-" outline>final</span>
                                                                                            <span
                                                    class="label label-success" >public</span>
                                                                                            <span
                                                    class="label label-default" >static</span>
                                                                                    
                                        getUploadProgressName

                                    </h1>
                                    <p>
                                        

                                        
                                                                            </p>


                                
                                                                                                                                                        <p><p>Gets the session progess upload name;</p></p>
                                                                                                                                                                <dl>
                                                <dt>Return</dt>
                                                                                                    <dd><p>type</p></dd>
                                                
                                            </dl>
                                                                            
                                


                                

                                                            </div>
                                            </div>
                    <div class="codeblock">
                                                    <pre>
                                    <code
                                        class="php">
    final public static function getUploadProgressName()
    {
        $name = ini_get(&quot;session.upload_progress.name&quot;);
        return $name;
    }</code>
                                </pre>
                                            </div>
                </div>
                

            
        
                                    
                            <div class="literal column">
                    <div class="codedoc">
                                                    <a class="to-top" href="">Back To Top</a>
                                                                            <div class="doc">

                                
                                                                    <h1 id="method:getUploadProgress">

                                                                                    <span
                                                class="label label-primary">method</span>
                                        
                                                                                                                                    <span
                                                    class="label label-" outline>final</span>
                                                                                            <span
                                                    class="label label-success" >public</span>
                                                                                            <span
                                                    class="label label-default" >static</span>
                                                                                    
                                        getUploadProgress

                                    </h1>
                                    <p>
                                        

                                        
                                                                            </p>


                                
                                                                                                                                                        <p><p>Gets the Upload progressName</p></p>
                                                                                                                                                                <dl>
                                                <dt>Param</dt>
                                                                                                    <dd><p>type $formName</p></dd>
                                                
                                            </dl>
                                                                                                                                                                <dl>
                                                <dt>Return</dt>
                                                                                                    <dd><p>int</p></dd>
                                                
                                            </dl>
                                                                            
                                


                                

                                                            </div>
                                            </div>
                    <div class="codeblock">
                                                    <pre>
                                    <code
                                        class="php">
    final public static function getUploadProgress($formName)
    {

        $key = ini_get(&quot;session.upload_progress.prefix&quot;) . $formName;
        if (!empty($_SESSION[$key])) {
            $current = $_SESSION[$key][&quot;bytes_processed&quot;];
            $total = $_SESSION[$key][&quot;content_length&quot;];
            return $current &lt; $total ? ceil($current / $total * 100) : 100;
        } else {
            return 100;
        }
    }</code>
                                </pre>
                                            </div>
                </div>
                

            
        
                                    
                            <div class="literal column">
                    <div class="codedoc">
                                                    <a class="to-top" href="">Back To Top</a>
                                                                            <div class="doc">

                                
                                                                    <h1 id="method:start">

                                                                                    <span
                                                class="label label-primary">method</span>
                                        
                                                                                                                                    <span
                                                    class="label label-" outline>final</span>
                                                                                            <span
                                                    class="label label-success" >public</span>
                                                                                    
                                        start

                                    </h1>
                                    <p>
                                        

                                        
                                                                            </p>


                                
                                                                                                                                                        <p><p>Starts a session</p></p>
                                                                                                                                                                <dl>
                                                <dt>Param</dt>
                                                                                                    <dd><p>type $killPrevious</p></dd>
                                                
                                            </dl>
                                                                                                                                                                <dl>
                                                <dt>Return</dt>
                                                                                                    <dd><p>void</p></dd>
                                                
                                            </dl>
                                                                            
                                


                                

                                                            </div>
                                            </div>
                    <div class="codeblock">
                                                    <pre>
                                    <code
                                        class="php">
    final public function start($killPrevious = FALSE)
    {

        //starts this session if not creates a new one
        //$self = (!isset($this) || !is_a($this, &quot;Library\Session&quot;)) ? self::getInstance() : $this;
        //@TODO Check if there is an existing session!
        //If there is any previous and killprevious is false,
        //simply do a garbage collection and return;
        //if we can&#039;t read the session
        if (($session = $this-&gt;read()) !== FALSE) {
            $this-&gt;update($session);
        } else {
            $this-&gt;create();
        }
        //Carbage collection
        $this-&gt;gc();
    }</code>
                                </pre>
                                            </div>
                </div>
                

            
        
                                    
                            <div class="literal column">
                    <div class="codedoc">
                                                    <a class="to-top" href="">Back To Top</a>
                                                                            <div class="doc">

                                
                                                                    <h1 id="method:getSplash">

                                                                                    <span
                                                class="label label-primary">method</span>
                                        
                                                                                                                                    <span
                                                    class="label label-" outline>final</span>
                                                                                            <span
                                                    class="label label-success" >public</span>
                                                                                    
                                        getSplash

                                    </h1>
                                    <p>
                                        

                                        
                                                                            </p>


                                
                                                                                                                                                        <p><p>Gets session parameters and develop a 'splash'</p></p>
                                                                                                                                                                <dl>
                                                <dt>Return</dt>
                                                                                                    <dd><p>type</p></dd>
                                                
                                            </dl>
                                                                            
                                


                                

                                                            </div>
                                            </div>
                    <div class="codeblock">
                                                    <pre>
                                    <code
                                        class="php">
    final public function getSplash()
    {

        $userIp = md5($this-&gt;input-&gt;serialize($this-&gt;input-&gt;getVar(&#039;REMOTE_ADDR&#039;, \IS\STRING, &#039;&#039;, &#039;server&#039;)));
        $userAgent = md5($this-&gt;input-&gt;serialize($this-&gt;input-&gt;getVar(&#039;HTTP_USER_AGENT&#039;, \IS\STRING, &#039;&#039;, &#039;server&#039;)));
        $userDomain = md5($this-&gt;input-&gt;serialize((string)$this-&gt;uri-&gt;getHost()));

        //throw in a token for specific id of browser,
        $token = (string)$this-&gt;generateToken();

        $splash = array(
            &quot;ip&quot; =&gt; $userIp,
            &quot;agent&quot; =&gt; $userAgent,
            &quot;domain&quot; =&gt; $userDomain,
            &quot;token&quot; =&gt; $token
        );

        return $splash;
    }</code>
                                </pre>
                                            </div>
                </div>
                

            
        
                                    
                            <div class="literal column">
                    <div class="codedoc">
                                                    <a class="to-top" href="">Back To Top</a>
                                                                            <div class="doc">

                                
                                                                    <h1 id="method:create">

                                                                                    <span
                                                class="label label-primary">method</span>
                                        
                                                                                                                                    <span
                                                    class="label label-" outline>final</span>
                                                                                            <span
                                                    class="label label-success" >public</span>
                                                                                    
                                        create

                                    </h1>
                                    <p>
                                        

                                        
                                                                            </p>


                                
                                                                                                                                                        <p><p>Creates a new session.</p></p>
                                                                                                                                                                <p><p>Will only create a session if none is found
The 'default' and 'auth' namespaces are also added
The 'auth' namespace is locked and unwrittable,</p></p>
                                                                                                                                                                <dl>
                                                <dt>Return</dt>
                                                                                                    <dd><p>void</p></dd>
                                                
                                            </dl>
                                                                            
                                


                                

                                                            </div>
                                            </div>
                    <div class="codeblock">
                                                    <pre>
                                    <code
                                        class="php">
    final public function create()
    {

        $self = $this;

        $splash = $self-&gt;getSplash();
        $sessId = $this-&gt;generateId($splash);

        session_id($sessId); //Must be called before the sesion start to generate the Id
        session_cache_limiter(&#039;none&#039;);

        session_name(md5($self-&gt;cookie . $splash[&#039;agent&#039;] . $splash[&#039;ip&#039;] . $splash[&#039;domain&#039;]));
        session_start();

        //Create the default namespace; affix to splash;
        //The default namespace will contain vars such as -request count, - last session start time, -last session response time, etc
        //The dfault namespace will also contain, instantiated objects?
        //
        $defaultReg = new Registry(&quot;default&quot;);
        $self-&gt;registry[&#039;default&#039;] = $defaultReg;

        //update the cookie with the expiry time
        //Create the authenticated namespace and lock it!
        $self-&gt;set(&quot;handler&quot;, $this-&gt;authenticator, &quot;auth&quot;);

        $this-&gt;write($sessId, $splash);
    }</code>
                                </pre>
                                            </div>
                </div>
                

            
        
                                    
                            <div class="literal column">
                    <div class="codedoc">
                                                    <a class="to-top" href="">Back To Top</a>
                                                                            <div class="doc">

                                
                                                                    <h1 id="method:getAuthority">

                                                                                    <span
                                                class="label label-primary">method</span>
                                        
                                                                                                                                    <span
                                                    class="label label-" outline>final</span>
                                                                                            <span
                                                    class="label label-success" >public</span>
                                                                                    
                                        getAuthority

                                    </h1>
                                    <p>
                                        

                                        
                                                                            </p>


                                
                                                                                                                                                        <p><p>Reads the authenticated user's right,</p></p>
                                                                                                                                                                <dl>
                                                <dt>Return</dt>
                                                                                                    <dd><p>Authority</p></dd>
                                                
                                            </dl>
                                                                            
                                


                                

                                                            </div>
                                            </div>
                    <div class="codeblock">
                                                    <pre>
                                    <code
                                        class="php">
    final public function getAuthority()
    {

        $self = $this;
        $auth = $self-&gt;get(&quot;handler&quot;, &quot;auth&quot;);

        //$authority = \Platform\Authorize::getInstance();

        if (is_a($auth, Authenticate::class)) {
            if (isset($auth-&gt;authenticated)) {
                //Read Rights if we have a userId
                //$self-&gt;authority = $authority-&gt;getPermissions($auth);
            }
        }

        //return $self-&gt;authority;
    }</code>
                                </pre>
                                            </div>
                </div>
                

            
        
                                    
                            <div class="literal column">
                    <div class="codedoc">
                                                    <a class="to-top" href="">Back To Top</a>
                                                                            <div class="doc">

                                
                                                                    <h1 id="method:isAuthenticated">

                                                                                    <span
                                                class="label label-primary">method</span>
                                        
                                                                                                                                    <span
                                                    class="label label-" outline>final</span>
                                                                                            <span
                                                    class="label label-success" >public</span>
                                                                                    
                                        isAuthenticated

                                    </h1>
                                    <p>
                                        

                                        
                                                                            </p>


                                
                                                                                                                                                        <p><p>Determines whether a user has been
Authenticated to this browser;</p></p>
                                                                                                                                                                <dl>
                                                <dt>Return</dt>
                                                                                                    <dd><p>boolean True or false depending on auth status</p></dd>
                                                
                                            </dl>
                                                                            
                                


                                

                                                            </div>
                                            </div>
                    <div class="codeblock">
                                                    <pre>
                                    <code
                                        class="php">
    final public function isAuthenticated()
    {

        $self = $this;
        $auth = $self-&gt;get(&quot;handler&quot;, &quot;auth&quot;);

        if (is_a($auth, Authenticate::class)) {
            if (isset($auth-&gt;authenticated)) {
                return (bool)$auth-&gt;authenticated;
            }
        }

        return false;
    }</code>
                                </pre>
                                            </div>
                </div>
                

            
        
                                    
                            <div class="literal column">
                    <div class="codedoc">
                                                    <a class="to-top" href="">Back To Top</a>
                                                                            <div class="doc">

                                
                                                                    <h1 id="method:generateToken">

                                                                                    <span
                                                class="label label-primary">method</span>
                                        
                                                                                                                                    <span
                                                    class="label label-" outline>final</span>
                                                                                            <span
                                                    class="label label-success" >public</span>
                                                                                    
                                        generateToken

                                    </h1>
                                    <p>
                                        

                                        
                                                                            </p>


                                
                                                                                                                                                        <p><p>Generates a random token</p></p>
                                                                                                                                                                <dl>
                                                <dt>Return</dt>
                                                                                                    <dd><p>type</p></dd>
                                                
                                            </dl>
                                                                            
                                


                                

                                                            </div>
                                            </div>
                    <div class="codeblock">
                                                    <pre>
                                    <code
                                        class="php">
    final public function generateToken()
    {
        $code = md5(uniqid(rand(), true));
        return substr($code, 0, 32);
    }</code>
                                </pre>
                                            </div>
                </div>
                

            
        
                                    
                            <div class="literal column">
                    <div class="codedoc">
                                                    <a class="to-top" href="">Back To Top</a>
                                                                            <div class="doc">

                                
                                                                    <h1 id="method:getCSRFToken">

                                                                                    <span
                                                class="label label-primary">method</span>
                                        
                                                                                                                                    <span
                                                    class="label label-" outline>final</span>
                                                                                            <span
                                                    class="label label-success" >public</span>
                                                                                    
                                        getCSRFToken

                                    </h1>
                                    <p>
                                        

                                        
                                                                            </p>


                                
                                


                                

                                                            </div>
                                            </div>
                    <div class="codeblock">
                                                    <pre>
                                    <code
                                        class="php">final public function getCSRFToken()
    {

        $csrftoken = $this-&gt;get(&quot;csrftoken&quot;);

        if (empty($csrftoken)) {

            $splash = $this-&gt;getSplash();

            $host = gethostname();
            $ip = gethostbyname($host);

            $splash[&quot;server&quot;] = md5($ip);

            $csrftoken = $this-&gt;generateId($splash);

            $this-&gt;set(&quot;csrftoken&quot;, $csrftoken);
        }

        return $csrftoken;
    }</code>
                                </pre>
                                            </div>
                </div>
                

            
        
                                    
                            <div class="literal column">
                    <div class="codedoc">
                                                    <a class="to-top" href="">Back To Top</a>
                                                                            <div class="doc">

                                
                                                                    <h1 id="method:validateCSRFToken">

                                                                                    <span
                                                class="label label-primary">method</span>
                                        
                                                                                                                                    <span
                                                    class="label label-" outline>final</span>
                                                                                            <span
                                                    class="label label-success" >public</span>
                                                                                    
                                        validateCSRFToken

                                    </h1>
                                    <p>
                                        

                                        
                                                                            </p>


                                
                                


                                

                                                            </div>
                                            </div>
                    <div class="codeblock">
                                                    <pre>
                                    <code
                                        class="php">final public function validateCSRFToken($token)
    {

        $splash = $this-&gt;getSplash();

        $host = gethostname();
        $ip = gethostbyname($host);

        $splash[&quot;server&quot;] = md5($ip);

        $csrftoken = $this-&gt;generateId($splash);

        if ($token !== $csrftoken) {
            return false;
        }

        return true;
    }</code>
                                </pre>
                                            </div>
                </div>
                

            
        
                                    
                            <div class="literal column">
                    <div class="codedoc">
                                                    <a class="to-top" href="">Back To Top</a>
                                                                            <div class="doc">

                                
                                                                    <h1 id="method:getNamespace">

                                                                                    <span
                                                class="label label-primary">method</span>
                                        
                                                                                                                                    <span
                                                    class="label label-" outline>final</span>
                                                                                            <span
                                                    class="label label-success" >public</span>
                                                                                    
                                        getNamespace

                                    </h1>
                                    <p>
                                        

                                        
                                                                            </p>


                                
                                                                                                                                                        <p><p>Gets a namespaced session registry</p></p>
                                                                                                                                                                <dl>
                                                <dt>Param</dt>
                                                                                                    <dd><p>type $name</p></dd>
                                                
                                            </dl>
                                                                                                                                                                <dl>
                                                <dt>Return</dt>
                                                                                                    <dd><p>type</p></dd>
                                                
                                            </dl>
                                                                            
                                


                                

                                                            </div>
                                            </div>
                    <div class="codeblock">
                                                    <pre>
                                    <code
                                        class="php">
    final public function getNamespace($name = &#039;default&#039;)
    {
        //Returns the Registry object corresponding to the
        //namespace $name from $this-&gt;registry

        return $this-&gt;registry[$name];
    }</code>
                                </pre>
                                            </div>
                </div>
                

            
        
                                    
                            <div class="literal column">
                    <div class="codedoc">
                                                    <a class="to-top" href="">Back To Top</a>
                                                                            <div class="doc">

                                
                                                                    <h1 id="method:generateId">

                                                                                    <span
                                                class="label label-primary">method</span>
                                        
                                                                                                                                    <span
                                                    class="label label-" outline>final</span>
                                                                                            <span
                                                    class="label label-success" >public</span>
                                                                                    
                                        generateId

                                    </h1>
                                    <p>
                                        

                                        
                                                                            </p>


                                
                                                                                                                                                        <p><p>Generates the session Id</p></p>
                                                                                                                                                                <dl>
                                                <dt>Param</dt>
                                                                                                    <dd><p>type $splash</p></dd>
                                                
                                            </dl>
                                                                                                                                                                <dl>
                                                <dt>Return</dt>
                                                                                                    <dd><p>type</p></dd>
                                                
                                            </dl>
                                                                            
                                


                                

                                                            </div>
                                            </div>
                    <div class="codeblock">
                                                    <pre>
                                    <code
                                        class="php">
    final public function generateId($splash)
    {

        $encryptor = $this-&gt;encryptor;
        $input = $this-&gt;input;
        $sessId = md5($encryptor-&gt;getKey() . $input-&gt;serialize($splash));

        return $sessId;
    }</code>
                                </pre>
                                            </div>
                </div>
                

            
        
                                    
                            <div class="literal column">
                    <div class="codedoc">
                                                    <a class="to-top" href="">Back To Top</a>
                                                                            <div class="doc">

                                
                                                                    <h1 id="method:read">

                                                                                    <span
                                                class="label label-primary">method</span>
                                        
                                                                                                                                    <span
                                                    class="label label-" outline>final</span>
                                                                                            <span
                                                    class="label label-success" >public</span>
                                                                                    
                                        read

                                    </h1>
                                    <p>
                                        

                                        
                                                                            </p>


                                
                                                                                                                                                        <p><p>Reads session data from session stores</p></p>
                                                                                                                                                                <dl>
                                                <dt>Param</dt>
                                                                                                    <dd><p>string $id</p></dd>
                                                
                                            </dl>
                                                                                                                                                                <dl>
                                                <dt>Return</dt>
                                                                                                    <dd><p>Boolean False on failed and session ID on success</p></dd>
                                                
                                            </dl>
                                                                            
                                


                                

                                                            </div>
                                            </div>
                    <div class="codeblock">
                                                    <pre>
                                    <code
                                        class="php">
    final public function read($id = Null)
    {

        $self = $this;

        $input = $this-&gt;input;
        $uri = $this-&gt;uri;
        //$dbo = Database::getInstance();

        $splash = $self-&gt;getSplash();

        //Do we have a cookie?
        $sessCookie = md5($self-&gt;cookie . $splash[&#039;agent&#039;] . $splash[&#039;ip&#039;] . $splash[&#039;domain&#039;]);

        $sessId = $input-&gt;getCookie($sessCookie);

        if (empty($sessId) || !$sessId) {
            //we will have to create a new session
            return false;
        }

        $userIp = md5($input-&gt;serialize($input-&gt;getVar(&#039;REMOTE_ADDR&#039;, \IS\STRING, &#039;&#039;, &#039;server&#039;)));
        $userAgent = md5($input-&gt;serialize($input-&gt;getVar(&#039;HTTP_USER_AGENT&#039;, \IS\STRING, &#039;&#039;, &#039;server&#039;)));
        $userDomain = md5($input-&gt;serialize((string)$uri-&gt;getHost()));

        //Read the session
        //$_handler = ucfirst($self-&gt;store);
        $handler = $this-&gt;handler;
        $object = $handler-&gt;read($splash, $self, $sessId);

        //If this is not an object then we have a problem
        if (!is_object($object)) return false;

        //Redecorate
        $splash = array(
            &quot;ip&quot; =&gt; $userIp,
            &quot;agent&quot; =&gt; $userAgent,
            &quot;domain&quot; =&gt; $userDomain,
            &quot;token&quot; =&gt; $object-&gt;session_token
        );

        $testId = $self-&gt;generateId($splash);

        if ($testId &lt;&gt; $sessId) {
            $this-&gt;destroy($sessId);
            return false; //will lead to re-creation
        }

        //check if expired
        $now = time();
        if ($object-&gt;session_expires &lt; $now) {
            $this-&gt;destroy($sessId);
            return false; //Will lead to re-creation of a new one
        }

        $self-&gt;ip = $object-&gt;session_ip;
        $self-&gt;agent = $object-&gt;session_agent;
        $self-&gt;token = $object-&gt;session_token;
        $self-&gt;id = $sessId;

        //@TODO Restore the registry
        //which hopefully should contain auth and other serialized info in namespsaces
        $registry = new Registry(&quot;default&quot;);

        //Validate?
        if (!empty($object-&gt;session_registry)) {
            //First get an instance of the registry, just to be sure its loaded
            $registry = $input-&gt;unserialize($object-&gt;session_registry);
            $self-&gt;registry = $registry;
            $_SESSION = $self-&gt;getNamespace(&quot;default&quot;)-&gt;getAllData();
        } else {
            //just re-create a default registry
            $_SESSION = array(); //Session is array;
            //Because we can&#039;t restore
            $self-&gt;registry[&#039;default&#039;] = $registry;
        }
        //Update total requests in the default namespace;
        $reqCount = $self-&gt;get(&quot;totalRequests&quot;);
        $newCount = $reqCount + 1;

        //Set a total Requests Count
        $self-&gt;set(&quot;totalRequests&quot;, $newCount);

        //Return the session Id, to pass to self::update
        return $sessId;
    }</code>
                                </pre>
                                            </div>
                </div>
                

            
        
                                    
                            <div class="literal column">
                    <div class="codedoc">
                                                    <a class="to-top" href="">Back To Top</a>
                                                                            <div class="doc">

                                
                                                                    <h1 id="method:update">

                                                                                    <span
                                                class="label label-primary">method</span>
                                        
                                                                                                                                    <span
                                                    class="label label-" outline>final</span>
                                                                                            <span
                                                    class="label label-success" >public</span>
                                                                                    
                                        update

                                    </h1>
                                    <p>
                                        

                                        
                                                                            </p>


                                
                                                                                                                                                        <p><p>Updates a user session store on state change</p></p>
                                                                                                                                                                <dl>
                                                <dt>Param</dt>
                                                                                                    <dd><p>type $sessId</p></dd>
                                                
                                            </dl>
                                                                                                                                                                <dl>
                                                <dt>Return</dt>
                                                                                                    <dd><p>type</p></dd>
                                                
                                            </dl>
                                                                            
                                


                                

                                                            </div>
                                            </div>
                    <div class="codeblock">
                                                    <pre>
                                    <code
                                        class="php">
    final public function update($sessId, $userdata = array())
    {

        if (empty($sessId)) {
            return false;
        }

        $self = $this;

        //updates a started session for exp time
        //stores data for the registry
        $now = time();
        $newExpires = $now + $self-&gt;life;

        $update = array(
            &quot;session_lastactive&quot; =&gt; $now,
            &quot;session_expires&quot; =&gt; $newExpires
        );
        $self-&gt;id = $sessId;

        //If isset registry and is not empty, store userdata;
        if (isset($self-&gt;registry) &amp;&amp; is_array($self-&gt;registry)) {
            $userdata = $this-&gt;input-&gt;serialize($self-&gt;registry);
            $update[&quot;session_registry&quot;] = $userdata;
        }
        //Read the session
        $handler = $this-&gt;handler;
        //Must be called before the sesion start to generate the Id
        session_id($sessId);
        //session_start();

        if (!$handler-&gt;update($update, $self, $self-&gt;id)) {
            return false;
        }

        return true;
    }</code>
                                </pre>
                                            </div>
                </div>
                

            
        
                                    
                            <div class="literal column">
                    <div class="codedoc">
                                                    <a class="to-top" href="">Back To Top</a>
                                                                            <div class="doc">

                                
                                                                    <h1 id="method:restart">

                                                                                    <span
                                                class="label label-primary">method</span>
                                        
                                                                                                                                    <span
                                                    class="label label-" outline>final</span>
                                                                                            <span
                                                    class="label label-success" >public</span>
                                                                                    
                                        restart

                                    </h1>
                                    <p>
                                        

                                        
                                                                            </p>


                                
                                                                                                                                                        <p><p>Destroys any previous session and starts a new one
Hopefully</p></p>
                                                                                                                                                                <dl>
                                                <dt>Return</dt>
                                                                                                    <dd><p>void</p></dd>
                                                
                                            </dl>
                                                                            
                                


                                

                                                            </div>
                                            </div>
                    <div class="codeblock">
                                                    <pre>
                                    <code
                                        class="php">
    final public function restart()
    {

        $id = $this-&gt;getId();

        $this-&gt;destroy($id);
        $this-&gt;create();
        $this-&gt;gc();
    }</code>
                                </pre>
                                            </div>
                </div>
                

            
        
                                    
                            <div class="literal column">
                    <div class="codedoc">
                                                    <a class="to-top" href="">Back To Top</a>
                                                                            <div class="doc">

                                
                                                                    <h1 id="method:destroy">

                                                                                    <span
                                                class="label label-primary">method</span>
                                        
                                                                                                                                    <span
                                                    class="label label-" outline>final</span>
                                                                                            <span
                                                    class="label label-success" >public</span>
                                                                                    
                                        destroy

                                    </h1>
                                    <p>
                                        

                                        
                                                                            </p>


                                
                                                                                                                                                        <p><p>Destroys a redundant session</p></p>
                                                                                                                                                                <dl>
                                                <dt>Param</dt>
                                                                                                    <dd><p>type $id</p></dd>
                                                
                                            </dl>
                                                                            
                                


                                

                                                            </div>
                                            </div>
                    <div class="codeblock">
                                                    <pre>
                                    <code
                                        class="php">
    final public function destroy($id = &quot;&quot;)
    {

        $id = !empty($id) ? $id : $this-&gt;getId();
        $now = time();

        if (empty($id)) {
            return false;
        }

        setcookie(session_name(), &#039;&#039;, $now - 42000, &#039;/&#039;);

        if (session_id()) {
            @session_unset();
            @session_destroy();
        }

        //Delete from db;
        //Do a garbage collection
        $this-&gt;gc($id);
    }</code>
                                </pre>
                                            </div>
                </div>
                

            
        
                                    
                            <div class="literal column">
                    <div class="codedoc">
                                                    <a class="to-top" href="">Back To Top</a>
                                                                            <div class="doc">

                                
                                                                    <h1 id="method:write">

                                                                                    <span
                                                class="label label-primary">method</span>
                                        
                                                                                                                                    <span
                                                    class="label label-" outline>final</span>
                                                                                            <span
                                                    class="label label-success" >public</span>
                                                                                    
                                        write

                                    </h1>
                                    <p>
                                        

                                        
                                                                            </p>


                                
                                                                                                                                                        <p><p>Writes data to session stores</p></p>
                                                                                                                                                                <dl>
                                                <dt>Param</dt>
                                                                                                    <dd><p>type $data</p></dd>
                                                
                                            </dl>
                                                                                                                                                                <dl>
                                                <dt>Return</dt>
                                                                                                    <dd><p>type</p></dd>
                                                
                                            </dl>
                                                                            
                                


                                

                                                            </div>
                                            </div>
                    <div class="codeblock">
                                                    <pre>
                                    <code
                                        class="php">
    final public function write($sessId, $data = array())
    {

        //Writes user data to the db;
        $self = $this;

        //expires
        $expires = time() + $self-&gt;life;

        //Sets the cookie
        //$output-&gt;setCookie($self-&gt;cookie, $sessId.&quot;0&quot;.$data[&#039;token&#039;], $expires);
        //$output-&gt;setCookie($sessId, $data[&#039;token&#039;], $expires);
        $cookie = session_get_cookie_params();

        //Cookie parameters
        session_set_cookie_params($expires, $cookie[&#039;path&#039;], $cookie[&#039;domain&#039;], true);

        $self-&gt;id = session_id();
        $userdata = $this-&gt;input-&gt;serialize($self-&gt;registry);

        //last modified = now;
        //expires = now + life ;
        $handler = $this-&gt;handler;

        if (!$handler-&gt;write($userdata, $data, $self, $sessId, $expires)) {
            return false;
        }

        return true;
    }</code>
                                </pre>
                                            </div>
                </div>
                

            
        
                                    
                            <div class="literal column">
                    <div class="codedoc">
                                                    <a class="to-top" href="">Back To Top</a>
                                                                            <div class="doc">

                                
                                                                    <h1 id="method:setOptions">

                                                                                    <span
                                                class="label label-primary">method</span>
                                        
                                                                                                                                    <span
                                                    class="label label-" outline>final</span>
                                                                                            <span
                                                    class="label label-success" >public</span>
                                                                                    
                                        setOptions

                                    </h1>
                                    <p>
                                        

                                        
                                                                            </p>


                                
                                                                                                                                                        <p><p>Sets session options</p></p>
                                                                                                                                                                <dl>
                                                <dt>Param</dt>
                                                                                                    <dd><p>type $options</p></dd>
                                                
                                            </dl>
                                                                            
                                


                                

                                                            </div>
                                            </div>
                    <div class="codeblock">
                                                    <pre>
                                    <code
                                        class="php">
    final public function setOptions($options = array())
    {
        //sets session options
    }</code>
                                </pre>
                                            </div>
                </div>
                

            
        
                                    
                            <div class="literal column">
                    <div class="codedoc">
                                                    <a class="to-top" href="">Back To Top</a>
                                                                            <div class="doc">

                                
                                                                    <h1 id="method:maxTimeToExpire">

                                                                                    <span
                                                class="label label-primary">method</span>
                                        
                                                                                                                                    <span
                                                    class="label label-" outline>final</span>
                                                                                            <span
                                                    class="label label-success" >public</span>
                                                                                    
                                        maxTimeToExpire

                                    </h1>
                                    <p>
                                        

                                        
                                                                            </p>


                                
                                                                                                                                                        <p><p>Sets the maximum time for sessin to expire
Expires the session id in x time
If x is = zero, set expire time to 50 days from now (60<em>60</em>24<em>50</em>1);</p></p>
                                                                                                                                                                <dl>
                                                <dt>Return</dt>
                                                                                                    <dd><p>void</p></dd>
                                                
                                            </dl>
                                                                            
                                


                                

                                                            </div>
                                            </div>
                    <div class="codeblock">
                                                    <pre>
                                    <code
                                        class="php">
    final public function maxTimeToExpire()
    {
        //Expires the session id in x time
        //If x is = zero, set expire time to 50 days from now (60*60*24*50*1);
    }</code>
                                </pre>
                                            </div>
                </div>
                

            
        
                                    
                            <div class="literal column">
                    <div class="codedoc">
                                                    <a class="to-top" href="">Back To Top</a>
                                                                            <div class="doc">

                                
                                                                    <h1 id="method:maxRequestToExpire">

                                                                                    <span
                                                class="label label-primary">method</span>
                                        
                                                                                                                                    <span
                                                    class="label label-" outline>final</span>
                                                                                            <span
                                                    class="label label-success" >public</span>
                                                                                    
                                        maxRequestToExpire

                                    </h1>
                                    <p>
                                        

                                        
                                                                            </p>


                                
                                                                                                                                                        <p><p>Sets the session maximum number of rrequests allowed
Expires the session id in x Requests
if x is = zero, allow unlimited requests</p></p>
                                                                                                                                                                <dl>
                                                <dt>Return</dt>
                                                                                                    <dd><p>void;</p></dd>
                                                
                                            </dl>
                                                                            
                                


                                

                                                            </div>
                                            </div>
                    <div class="codeblock">
                                                    <pre>
                                    <code
                                        class="php">
    final public function maxRequestToExpire()
    {
        //Expires the session id in x Requests
        //if x is = zero, allow unlimited requests
    }</code>
                                </pre>
                                            </div>
                </div>
                

            
        
                                    
                            <div class="literal column">
                    <div class="codedoc">
                                                    <a class="to-top" href="">Back To Top</a>
                                                                            <div class="doc">

                                
                                                                    <h1 id="method:getRequestCount">

                                                                                    <span
                                                class="label label-primary">method</span>
                                        
                                                                                                                                    <span
                                                    class="label label-" outline>final</span>
                                                                                            <span
                                                    class="label label-success" >public</span>
                                                                                    
                                        getRequestCount

                                    </h1>
                                    <p>
                                        

                                        
                                                                            </p>


                                
                                                                                                                                                        <p><p>Returns the total requests made in this session</p></p>
                                                                                                                                                                <dl>
                                                <dt>Return</dt>
                                                                                                    <dd><p>interger</p></dd>
                                                
                                            </dl>
                                                                            
                                


                                

                                                            </div>
                                            </div>
                    <div class="codeblock">
                                                    <pre>
                                    <code
                                        class="php">
    final public function getRequestCount()
    {
        //Returns the total requests made in this session
    }</code>
                                </pre>
                                            </div>
                </div>
                

            
        
                                    
                            <div class="literal column">
                    <div class="codedoc">
                                                    <a class="to-top" href="">Back To Top</a>
                                                                            <div class="doc">

                                
                                                                    <h1 id="method:lock">

                                                                                    <span
                                                class="label label-primary">method</span>
                                        
                                                                                                                                    <span
                                                    class="label label-" outline>final</span>
                                                                                            <span
                                                    class="label label-success" >public</span>
                                                                                    
                                        lock

                                    </h1>
                                    <p>
                                        

                                        
                                                                            </p>


                                
                                                                                                                                                        <p><p>Locks a namespaced registry to prevent further edits</p></p>
                                                                                                                                                                <dl>
                                                <dt>Param</dt>
                                                                                                    <dd><p>type $namespace</p></dd>
                                                
                                            </dl>
                                                                                                                                                                <dl>
                                                <dt>Return</dt>
                                                                                                    <dd><p>type</p></dd>
                                                
                                            </dl>
                                                                            
                                


                                

                                                            </div>
                                            </div>
                    <div class="codeblock">
                                                    <pre>
                                    <code
                                        class="php">
    final public function lock($namespace)
    {
        //locks a namespace in this session to prevent editing
        if (empty($namespace)) {
            //@TODO throw an exception,
            //we don&#039;t know what namespace this is
            return false;
        }
        $session = $this;
        //unlocks a namespace
        if (isset($session-&gt;registry[$namespace]) &amp;&amp; !$session-&gt;isLocked($namespace)) {
            $session-&gt;registry[$namespace]-&gt;lock();
            return true;
        }

        return false;
    }</code>
                                </pre>
                                            </div>
                </div>
                

            
        
                                    
                            <div class="literal column">
                    <div class="codedoc">
                                                    <a class="to-top" href="">Back To Top</a>
                                                                            <div class="doc">

                                
                                                                    <h1 id="method:isLocked">

                                                                                    <span
                                                class="label label-primary">method</span>
                                        
                                                                                                                                    <span
                                                    class="label label-" outline>final</span>
                                                                                            <span
                                                    class="label label-success" >public</span>
                                                                                    
                                        isLocked

                                    </h1>
                                    <p>
                                        

                                        
                                                                            </p>


                                
                                                                                                                                                        <p><p>Determines whether a namespaced registry is locked</p></p>
                                                                                                                                                                <dl>
                                                <dt>Param</dt>
                                                                                                    <dd><p>type $namespace</p></dd>
                                                
                                            </dl>
                                                                                                                                                                <dl>
                                                <dt>Return</dt>
                                                                                                    <dd><p>type</p></dd>
                                                
                                            </dl>
                                                                            
                                


                                

                                                            </div>
                                            </div>
                    <div class="codeblock">
                                                    <pre>
                                    <code
                                        class="php">
    final public function isLocked($namespace)
    {

        if (empty($namespace)) {

            return true; //just say its locked
        }
        //checks if a namespace in this session is locked
        $session = $this;
        //unlocks a namespace
        if (isset($session-&gt;registry[$namespace])) {
            return $session-&gt;registry[$namespace]-&gt;isLocked();
        }

        return false;
    }</code>
                                </pre>
                                            </div>
                </div>
                

            
        
                                    
                            <div class="literal column">
                    <div class="codedoc">
                                                    <a class="to-top" href="">Back To Top</a>
                                                                            <div class="doc">

                                
                                                                    <h1 id="method:unlock">

                                                                                    <span
                                                class="label label-primary">method</span>
                                        
                                                                                                                                    <span
                                                    class="label label-" outline>final</span>
                                                                                            <span
                                                    class="label label-success" >public</span>
                                                                                    
                                        unlock

                                    </h1>
                                    <p>
                                        

                                        
                                                                            </p>


                                
                                                                                                                                                        <p><p>Unlocks a registry.</p></p>
                                                                                                                                                                <p><p>BEWARE: Some registry items are locked for better performance. Do not
Unlock unless you absolutely need to, better still if you really need
flexibility, create your own namespaced registry</p></p>
                                                                                                                                                                <dl>
                                                <dt>Param</dt>
                                                                                                    <dd><p>type $namespace</p></dd>
                                                
                                            </dl>
                                                                                                                                                                <dl>
                                                <dt>Return</dt>
                                                                                                    <dd><p>type</p></dd>
                                                
                                            </dl>
                                                                            
                                


                                

                                                            </div>
                                            </div>
                    <div class="codeblock">
                                                    <pre>
                                    <code
                                        class="php">
    final public function unlock($namespace)
    {

        if (empty($namespace)) {
            //@TODO throw an exception,
            //we don&#039;t know what namespace this is
            return false;
        }
        $session = $this;
        //unlocks a namespace
        if (isset($session-&gt;registry[$namespace]) &amp;&amp; $session-&gt;isLocked($namespace)) {
            $session-&gt;registry[$namespace]-&gt;unlock();
            return true;
        }

        return false;
    }</code>
                                </pre>
                                            </div>
                </div>
                

            
        
                                    
                            <div class="literal column">
                    <div class="codedoc">
                                                    <a class="to-top" href="">Back To Top</a>
                                                                            <div class="doc">

                                
                                                                    <h1 id="method:getId">

                                                                                    <span
                                                class="label label-primary">method</span>
                                        
                                                                                                                                    <span
                                                    class="label label-" outline>final</span>
                                                                                            <span
                                                    class="label label-success" >public</span>
                                                                                    
                                        getId

                                    </h1>
                                    <p>
                                        

                                        
                                                                            </p>


                                
                                                                                                                                                        <p><p>Retuns the session Id</p></p>
                                                                                                                                                                <dl>
                                                <dt>Return</dt>
                                                                                                    <dd><p>type</p></dd>
                                                
                                            </dl>
                                                                            
                                


                                

                                                            </div>
                                            </div>
                    <div class="codeblock">
                                                    <pre>
                                    <code
                                        class="php">
    final public function getId()
    {
        $session = $this;
        return isset($session-&gt;id) ? $session-&gt;id : false;
    }</code>
                                </pre>
                                            </div>
                </div>
                

            
        
                                    
                            <div class="literal column">
                    <div class="codedoc">
                                                    <a class="to-top" href="">Back To Top</a>
                                                                            <div class="doc">

                                
                                                                    <h1 id="method:get">

                                                                                    <span
                                                class="label label-primary">method</span>
                                        
                                                                                                                                    <span
                                                    class="label label-" outline>final</span>
                                                                                            <span
                                                    class="label label-success" >public</span>
                                                                                    
                                        get

                                    </h1>
                                    <p>
                                        

                                        
                                                                            </p>


                                
                                                                                                                                                        <p><p>Gets a namespaced registry value, stored in the session</p></p>
                                                                                                                                                                <dl>
                                                <dt>Param</dt>
                                                                                                    <dd><p>type $varname</p></dd>
                                                
                                            </dl>
                                                                                                                                                                <dl>
                                                <dt>Return</dt>
                                                                                                    <dd><p>type</p></dd>
                                                
                                            </dl>
                                                                            
                                


                                

                                                            </div>
                                            </div>
                    <div class="codeblock">
                                                    <pre>
                                    <code
                                        class="php">
    final public function get($varname, $namespace = &#039;default&#039;)
    {
        //gets a registry var, stored in a namespace of this session id
        $session = $this;

        if (!isset($namespace) || empty($namespace)) {
            //@TODO Throw an exception, we need a name or use the default;
            return false;
        }

        //@TODO, check if the regitry is not locked before adding
        $registry = $session-&gt;getNamespace($namespace);

        return $registry-&gt;get($varname);
    }</code>
                                </pre>
                                            </div>
                </div>
                

            
        
                                    
                            <div class="literal column">
                    <div class="codedoc">
                                                    <a class="to-top" href="">Back To Top</a>
                                                                            <div class="doc">

                                
                                                                    <h1 id="method:set">

                                                                                    <span
                                                class="label label-primary">method</span>
                                        
                                                                                                                                    <span
                                                    class="label label-" outline>final</span>
                                                                                            <span
                                                    class="label label-success" >public</span>
                                                                                    
                                        set

                                    </h1>
                                    <p>
                                        

                                        
                                                                            </p>


                                
                                                                                                                                                        <p><p>Sets a value for storage in a namespaced registry</p></p>
                                                                                                                                                                <dl>
                                                <dt>Param</dt>
                                                                                                    <dd><p>type $varname</p></dd>
                                                
                                            </dl>
                                                                                                                                                                <dl>
                                                <dt>Return</dt>
                                                                                                    <dd><p>Session</p></dd>
                                                
                                            </dl>
                                                                            
                                


                                

                                                            </div>
                                            </div>
                    <div class="codeblock">
                                                    <pre>
                                    <code
                                        class="php">
    final public function set($varname, $value = NULL, $namespace = &#039;default&#039;)
    {
        //stores a value to a varname in a namespace of this session
        $session = $this;

        if (!isset($namespace) || empty($namespace)) {
            //@TODO Throw an exception, we need a name or use the default;
            throw new Exception(&quot;Cannot set new Session variable to unknown &#039;{$namespace}&#039; namespace&quot;);
            return false;
        }


        //If we don&#039;t have a registry to that namespace;
        if (!isset($session-&gt;registry[$namespace])) {
            //Create it;
            $registry = new Registry($namespace);
            $session-&gt;registry[$namespace] = $registry;
        }

        //echo $namespace;
        //@TODO, check if the regitry is not locked before adding
        if (!$session-&gt;isLocked($namespace)) {
            $registry = $session-&gt;getNamespace($namespace);
            $registry-&gt;set($varname, $value);
        }
        //If auth is locked

        return $session;
    }</code>
                                </pre>
                                            </div>
                </div>
                

            
        
                                    
                            <div class="literal column">
                    <div class="codedoc">
                                                    <a class="to-top" href="">Back To Top</a>
                                                                            <div class="doc">

                                
                                                                    <h1 id="method:remove">

                                                                                    <span
                                                class="label label-primary">method</span>
                                        
                                                                                                                                    <span
                                                    class="label label-" outline>final</span>
                                                                                            <span
                                                    class="label label-success" >public</span>
                                                                                    
                                        remove

                                    </h1>
                                    <p>
                                        

                                        
                                                                            </p>


                                
                                                                                                                                                        <p><p>Removes a value from the session registry</p></p>
                                                                                                                                                                <dl>
                                                <dt>Param</dt>
                                                                                                    <dd><p>type $varname</p></dd>
                                                
                                            </dl>
                                                                            
                                


                                

                                                            </div>
                                            </div>
                    <div class="codeblock">
                                                    <pre>
                                    <code
                                        class="php">
    final public function remove($varname = &#039;&#039;, $namespace = &#039;default&#039;)
    {
        //if the registry is empty and the namespace is not default
        //delete the registry;
        //stores a value to a varname in a namespace of this session
        $session = $this;


        //echo $namespace;
        //@TODO, check if the regitry is not locked before adding
        if (!$session-&gt;isLocked($namespace)) {

            $registry = $session-&gt;getNamespace($namespace);
            $registry-&gt;delete($varname);
        }
        //If auth is locked

        return $session;
    }</code>
                                </pre>
                                            </div>
                </div>
                

            
        
                                    
                            <div class="literal column">
                    <div class="codedoc">
                                                    <a class="to-top" href="">Back To Top</a>
                                                                            <div class="doc">

                                
                                                                    <h1 id="method:__destruct">

                                                                                    <span
                                                class="label label-primary">method</span>
                                        
                                                                                                                                    <span
                                                    class="label label-success" >public</span>
                                                                                    
                                        __destruct

                                    </h1>
                                    <p>
                                        

                                        
                                                                            </p>


                                
                                                                                                                                                        <p><p>A destructor method for the session class</p></p>
                                                                                                                                                                <dl>
                                                <dt>Return</dt>
                                                                                                    <dd><p>void</p></dd>
                                                
                                            </dl>
                                                                            
                                


                                

                                                            </div>
                                            </div>
                    <div class="codeblock">
                                                    <pre>
                                    <code
                                        class="php">
    public function __destruct()
    {

        //You&#039;d BREAK (a lot of) things if you change this!
        $this-&gt;update($this-&gt;getId());
        $this-&gt;gc();
        $this-&gt;close();
    }</code>
                                </pre>
                                            </div>
                </div>
                

            </div>
</body>
</html>